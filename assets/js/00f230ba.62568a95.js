"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[49937],{2278:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"gotchas/tooling","title":"Tooling Gotchas","description":"Would this save someone real debugging time? If you wouldn\'t warn a teammate about it, don\'t add it here.","source":"@site/docs/gotchas/tooling.md","sourceDirName":"gotchas","slug":"/gotchas/tooling","permalink":"/NevermoreEngine/docs/gotchas/tooling","draft":false,"unlisted":false,"editUrl":"https://github.com/Quenty/NevermoreEngine/edit/main/docs/gotchas/tooling.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Tooling Gotchas","sidebar_position":1},"sidebar":"defaultSidebar","previous":{"title":"Gotchas","permalink":"/NevermoreEngine/docs/gotchas/"}}');var t=o(74848),i=o(28453);const r={title:"Tooling Gotchas",sidebar_position:1},l="Tooling Gotchas",a={},c=[{value:"Lune",id:"lune",level:2},{value:"Symlinks",id:"symlinks",level:2},{value:"Linter CLI Tools",id:"linter-cli-tools",level:2},{value:"Rojo",id:"rojo",level:2}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"tooling-gotchas",children:"Tooling Gotchas"})}),"\n",(0,t.jsx)(n.admonition,{title:"Before adding an entry",type:"tip",children:(0,t.jsx)(n.p,{children:"Would this save someone real debugging time? If you wouldn't warn a teammate about it, don't add it here."})}),"\n",(0,t.jsx)(n.p,{children:"When a section grows to 10+ items, graduate it to its own doc."}),"\n",(0,t.jsx)(n.h2,{id:"lune",children:"Lune"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["No ",(0,t.jsx)(n.code,{children:"--"})," separator"]}),": When spawning ",(0,t.jsx)(n.code,{children:"lune run script.luau arg1 arg2"}),", do NOT use ",(0,t.jsx)(n.code,{children:"--"})," between the script path and arguments. Lune passes ",(0,t.jsx)(n.code,{children:"--"})," through to ",(0,t.jsx)(n.code,{children:"process.args"}),", shifting all arguments by one."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"DataModel attributes"}),": ",(0,t.jsx)(n.code,{children:"roblox.deserializePlace()"})," returns a DataModel. ",(0,t.jsx)(n.code,{children:"SetAttribute"})," must be called on a child service (e.g., ",(0,t.jsx)(n.code,{children:'game:GetService("Workspace")'}),"), not on the DataModel root."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"symlinks",children:"Symlinks"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Each package under ",(0,t.jsx)(n.code,{children:"src/"})," has a ",(0,t.jsx)(n.code,{children:"node_modules/"})," directory that is symlinked and recursive. Regex searching or recursive file operations (",(0,t.jsx)(n.code,{children:"grep -r"}),", ",(0,t.jsx)(n.code,{children:"rg"}),", ",(0,t.jsx)(n.code,{children:"find"}),") can consume excessive memory. Always use ",(0,t.jsx)(n.code,{children:"--ignore"})," flags to exclude ",(0,t.jsx)(n.code,{children:"node_modules"}),", or use targeted file paths."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"linter-cli-tools",children:"Linter CLI Tools"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Per-package execution"}),": moonwave-extractor, selene, and other linters run via ",(0,t.jsx)(n.code,{children:"npx lerna exec --parallel"})," must be run per-package, not repo-wide. The recursive symlinked ",(0,t.jsx)(n.code,{children:"node_modules"})," under ",(0,t.jsx)(n.code,{children:"src/"})," will cause them to traverse infinitely and freeze. This is why ",(0,t.jsx)(n.code,{children:"package.json"})," uses ",(0,t.jsx)(n.code,{children:"npx lerna exec --parallel"})," rather than running the tools at the repo root. Same caution applies when debugging locally."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"CI annotations"}),": The ",(0,t.jsx)(n.code,{children:"linting.yml"})," workflow emits GitHub Actions annotations via ",(0,t.jsx)(n.code,{children:"nevermore tools post-lint-results"}),". For the luau-lsp job (which already has pnpm), annotations run in-job. For stylua/selene/moonwave (lightweight Aftman-only jobs), output is uploaded as artifacts and a separate ",(0,t.jsx)(n.code,{children:"lint-annotations"})," job processes them. GitHub caps annotations at 10 per step and 50 per run \u2014 the job summary serves as a fallback for large lint failures."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"rojo",children:"Rojo"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Nevermore uses a custom fork of Rojo that understands symlinks and turns them into ObjectValues. This is required for development but not for consuming packages."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>l});var s=o(96540);const t={},i=s.createContext(t);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);