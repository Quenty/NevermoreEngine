"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[23870],{88961:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"conventions/git-workflow","title":"Git Workflow","description":"Git conventions for contributing to Nevermore. These apply to both Luau packages and TypeScript CLI tools.","source":"@site/docs/conventions/git-workflow.md","sourceDirName":"conventions","slug":"/conventions/git-workflow","permalink":"/NevermoreEngine/docs/conventions/git-workflow","draft":false,"unlisted":false,"editUrl":"https://github.com/Quenty/NevermoreEngine/edit/main/docs/conventions/git-workflow.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Git Workflow","sidebar_position":3},"sidebar":"defaultSidebar","previous":{"title":"TypeScript Conventions","permalink":"/NevermoreEngine/docs/conventions/typescript"},"next":{"title":"IDE Setup","permalink":"/NevermoreEngine/docs/ides/"}}');var r=t(74848),i=t(28453);const o={title:"Git Workflow",sidebar_position:3},a="Git Workflow",c={},d=[{value:"Commit messages",id:"commit-messages",level:2},{value:"Interactive rebase",id:"interactive-rebase",level:2},{value:"When to squash vs. keep separate",id:"when-to-squash-vs-keep-separate",level:3},{value:"Pull request descriptions",id:"pull-request-descriptions",level:2},{value:"Branching",id:"branching",level:2},{value:"Commit authorship",id:"commit-authorship",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"git-workflow",children:"Git Workflow"})}),"\n",(0,r.jsx)(n.p,{children:"Git conventions for contributing to Nevermore. These apply to both Luau packages and TypeScript CLI tools."}),"\n",(0,r.jsx)(n.h2,{id:"commit-messages",children:"Commit messages"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.a,{href:"https://www.conventionalcommits.org/",children:"conventional commits"}),": ",(0,r.jsx)(n.code,{children:"feat(scope):"}),", ",(0,r.jsx)(n.code,{children:"fix(scope):"}),", ",(0,r.jsx)(n.code,{children:"chore(scope):"}),", ",(0,r.jsx)(n.code,{children:"docs:"}),", ",(0,r.jsx)(n.code,{children:"refactor(scope):"}),". Messages describe impact, not reasoning."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"feat(cli): add GitHub Actions job summary reporter\nfix(blend): handle nil parent during cleanup\nchore(devcontainer): add GitHub CLI feature\ndocs: update testing guide with job summary details\n"})}),"\n",(0,r.jsx)(n.p,{children:"The scope is typically the package name or area of the codebase. Omit the scope for cross-cutting changes."}),"\n",(0,r.jsx)(n.h2,{id:"interactive-rebase",children:"Interactive rebase"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"git rebase -i"})," to craft clean commit history before pushing or requesting review:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Squash"})," related work into cohesive commits (e.g., implementation + fix-ups become one commit)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Separate"})," unrelated changes into distinct commits (e.g., a feature commit and a devcontainer fix should be separate)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rebase"})," onto the target branch to resolve conflicts cleanly rather than creating merge commits"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reword"})," commit messages to be clear and descriptive after squashing"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Rebase onto main and clean up commits interactively\ngit fetch origin main\ngit rebase -i origin/main\n\n# In the editor: pick, squash (s), fixup (f), reword (r)\n# Then force-push the cleaned branch\ngit push --force-with-lease\n"})}),"\n",(0,r.jsx)(n.h3,{id:"when-to-squash-vs-keep-separate",children:"When to squash vs. keep separate"}),"\n",(0,r.jsx)(n.p,{children:"A PR with three commits like this is ideal:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"feat(cli): add job summary reporter       # the feature\nchore(devcontainer): add GitHub CLI        # unrelated improvement, separate commit\ndocs: document job summary and git rebase  # docs follow-up\n"})}),"\n",(0,r.jsx)(n.p,{children:"A PR where every save was a commit should be squashed down. The goal is that each commit in the final history is a coherent, self-contained change."}),"\n",(0,r.jsx)(n.h2,{id:"pull-request-descriptions",children:"Pull request descriptions"}),"\n",(0,r.jsx)(n.p,{children:'PR descriptions are for reviewers and future readers browsing git history. They should answer "what changed and why?" \u2014 not "how was it implemented?" The code already shows the how.'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Good"})," \u2014 says what changed from the user's perspective:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Test and deploy results now appear on the GitHub Actions run summary\npage in addition to PR comments.\n\nAlso reorganizes the GitHub reporter code into `reporting/github/`\nwith shared formatting and a separate API module.\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Bad"})," \u2014 restates the diff:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"- Add `GithubJobSummaryReporter` that writes batch test/deploy results\n  to `$GITHUB_STEP_SUMMARY`\n- Refactor GitHub reporter code into a `reporting/github/` subfolder\n  with shared formatting extracted into `formatting.ts`\n- Wire up the new reporter in `batch test`, `batch deploy`, and\n  `post-test-results` commands\n"})}),"\n",(0,r.jsx)(n.p,{children:"Keep descriptions to 1-3 sentences. If a PR needs a long explanation, that's usually a sign it should be split up."}),"\n",(0,r.jsx)(n.h2,{id:"branching",children:"Branching"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Branch from ",(0,r.jsx)(n.code,{children:"main"})," for all work"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"users/{username}/{description}"})," branch names: ",(0,r.jsx)(n.code,{children:"users/quenty/job-summary-reporter"}),", ",(0,r.jsx)(n.code,{children:"users/quenty/fix-spinner-cursor"})]}),"\n",(0,r.jsxs)(n.li,{children:["Releases are CI-driven via ",(0,r.jsx)(n.code,{children:"auto shipit"})," \u2014 never release locally"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"commit-authorship",children:"Commit authorship"}),"\n",(0,r.jsxs)(n.p,{children:["Commits are attributed to the person who authored them. Do not add ",(0,r.jsx)(n.code,{children:"Co-Authored-By"})," trailers \u2014 Nevermore is open source and each commit should have a single clear author."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);