"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[89542],{5921:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"conventions/templates","title":"Template Conventions","description":"Generated and templated files (Luau scripts, Rojo projects, etc.) follow a consistent layout across CLI tools.","source":"@site/docs/conventions/templates.md","sourceDirName":"conventions","slug":"/conventions/templates","permalink":"/NevermoreEngine/docs/conventions/templates","draft":false,"unlisted":false,"editUrl":"https://github.com/Quenty/NevermoreEngine/edit/main/docs/conventions/templates.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Template Conventions","sidebar_position":4},"sidebar":"defaultSidebar","previous":{"title":"Git Workflow","permalink":"/NevermoreEngine/docs/conventions/git-workflow"},"next":{"title":"IDE Setup","permalink":"/NevermoreEngine/docs/ides/"}}');var o=n(74848),l=n(28453);const i={title:"Template Conventions",sidebar_position:4},a="Template Conventions",r={},c=[{value:"Directory layout",id:"directory-layout",level:2},{value:"Placeholder pattern",id:"placeholder-pattern",level:2},{value:"Resolving template paths",id:"resolving-template-paths",level:2},{value:"CI workflows",id:"ci-workflows",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"template-conventions",children:"Template Conventions"})}),"\n",(0,o.jsx)(t.p,{children:"Generated and templated files (Luau scripts, Rojo projects, etc.) follow a consistent layout across CLI tools."}),"\n",(0,o.jsx)(t.h2,{id:"directory-layout",children:"Directory layout"}),"\n",(0,o.jsxs)(t.p,{children:["All template files live in a ",(0,o.jsx)(t.code,{children:"templates/"})," directory at the root of the tool package that owns them:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"tools/nevermore-cli/templates/\n  batch-test-runner.luau          # Batch test execution script\n  game-template/                  # Game scaffolding\n  nevermore-library-package-template/  # Package scaffolding\n  nevermore-service-package-template/  # Service package scaffolding\n  plugin-template/                # Plugin scaffolding\n\ntools/studio-bridge/templates/    # Studio bridge plugin template\n"})}),"\n",(0,o.jsx)(t.h2,{id:"placeholder-pattern",children:"Placeholder pattern"}),"\n",(0,o.jsxs)(t.p,{children:["Templates use ",(0,o.jsx)(t.code,{children:"{{PLACEHOLDER}}"})," syntax for values filled in at runtime. The double-brace pattern is distinct from Lua/Luau syntax, making placeholders easy to find and unlikely to collide with real code."]}),"\n",(0,o.jsxs)(t.p,{children:["Example from ",(0,o.jsx)(t.code,{children:"batch-test-runner.luau"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-lua",children:"local packageSlugs = {{PACKAGE_SLUGS}}\n"})}),"\n",(0,o.jsx)(t.p,{children:"Replaced at runtime with:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-lua",children:'local packageSlugs = { "maid", "blend", "roguehumanoid" }\n'})}),"\n",(0,o.jsx)(t.h2,{id:"resolving-template-paths",children:"Resolving template paths"}),"\n",(0,o.jsxs)(t.p,{children:["Use ",(0,o.jsx)(t.code,{children:"resolveTemplatePath"})," from ",(0,o.jsx)(t.code,{children:"@quenty/nevermore-template-helpers"})," to resolve template paths at runtime. It finds the calling package's root (via ",(0,o.jsx)(t.code,{children:"package.json"}),") and appends ",(0,o.jsx)(t.code,{children:"templates/<name>"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-typescript",children:"import { resolveTemplatePath } from '@quenty/nevermore-template-helpers';\n\nconst templatePath = resolveTemplatePath(import.meta.url, 'batch-test-runner.luau');\n"})}),"\n",(0,o.jsx)(t.p,{children:"This works regardless of where the compiled JS ends up relative to the source."}),"\n",(0,o.jsx)(t.h2,{id:"ci-workflows",children:"CI workflows"}),"\n",(0,o.jsxs)(t.p,{children:["Game and plugin templates include GitHub Actions workflows for linting, testing, and deployment. These use ",(0,o.jsx)(t.code,{children:"npx @quenty/nevermore-cli"})," (not building from source) since the CLI is published to npm as a public package."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Linting"})," \u2014 Each linter job pipes output through ",(0,o.jsx)(t.code,{children:"tee"})," and posts inline PR annotations via ",(0,o.jsx)(t.code,{children:"nevermore tools post-lint-results"}),". Since templates have node available in every job, annotations are posted inline (no artifact relay needed)."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Tests / Deploy"})," \u2014 These workflows use a ",(0,o.jsx)(t.code,{children:"config-check"})," job that tests whether ",(0,o.jsx)(t.code,{children:"ROBLOX_OPEN_CLOUD_API_KEY"}),' is set. If not, the main job is skipped (shows "Skipped" in GitHub UI) and a ',(0,o.jsx)(t.code,{children:"::notice"})," annotation explains setup. This means newly scaffolded projects have zero failing workflows until the user deliberately enables testing/deploy."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["All ",(0,o.jsx)(t.code,{children:"${{ }}"})," GitHub Actions expressions are written as ",(0,o.jsx)(t.code,{children:"$\\{{ }}"})," in template files to prevent Handlebars from interpreting them during scaffolding."]})]})}function p(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var s=n(96540);const o={},l=s.createContext(o);function i(e){const t=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(l.Provider,{value:t},e.children)}}}]);